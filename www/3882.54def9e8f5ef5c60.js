"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3882],{3882:(w,p,i)=>{i.r(p),i.d(p,{ViewFeedbackPageModule:()=>V});var s=i(6019),c=i(9133),b=i(4522),o=i(6990),d=i(6431),u=i(6952),e=i(3245),Z=i(8834),A=i(5729),f=i(6733),h=i(1516),E=i(2932);function F(t,l){1&t&&(e.TgZ(0,"ion-label",19),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.general")))}function _(t,l){1&t&&(e.TgZ(0,"ion-label",19),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.feature")))}function T(t,l){1&t&&(e.TgZ(0,"ion-label",20),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.translation")))}function m(t,l){1&t&&(e.TgZ(0,"ion-label",20),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.typo")))}function k(t,l){1&t&&(e.TgZ(0,"ion-label",20),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.bug")))}function x(t,l){1&t&&(e.TgZ(0,"ion-label",19),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.other")))}function P(t,l){if(1&t&&(e.TgZ(0,"ion-card",14),e.TgZ(1,"ion-card-header"),e.TgZ(2,"ion-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-card-subtitle"),e.YNc(5,F,4,3,"ion-label",15),e.YNc(6,_,4,3,"ion-label",15),e.YNc(7,T,4,3,"ion-label",16),e.YNc(8,m,4,3,"ion-label",16),e.YNc(9,k,4,3,"ion-label",16),e.YNc(10,x,4,3,"ion-label",15),e.TgZ(11,"ion-label",17),e._uU(12),e.ALo(13,"date"),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.TgZ(15,"ion-label",18),e._uU(16),e.qZA(),e.qZA(),e.qZA()),2&t){const a=l.$implicit;e.MGl("routerLink","/feedback/",a.id,""),e.xp6(3),e.hij(" ",a.short_description," "),e.xp6(2),e.Q6J("ngIf","general"==a.type),e.xp6(1),e.Q6J("ngIf","feature"==a.type),e.xp6(1),e.Q6J("ngIf","translation"==a.type),e.xp6(1),e.Q6J("ngIf","typo"==a.type),e.xp6(1),e.Q6J("ngIf","bug"==a.type),e.xp6(1),e.Q6J("ngIf","other"==a.type),e.xp6(2),e.hij(" - ",e.xi3(13,10,a.created_at,e.lcZ(14,13,"GENERAL.exactTimeDisplayFormat")),""),e.xp6(4),e.hij(" ",a.full_description," ")}}function L(t,l){if(1&t&&(e.ynx(0),e.YNc(1,P,17,15,"ion-card",13),e.BQk()),2&t){const a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.filteredFeedback)}}function C(t,l){1&t&&(e.ynx(0),e._UZ(1,"app-empty-card",21),e.ALo(2,"translate"),e._UZ(3,"br"),e.BQk()),2&t&&(e.xp6(1),e.s9C("message",e.lcZ(2,1,"ACTIONS.VIEW_FEEDBACK.noFeedback")))}const v=[{path:"",component:(()=>{class t{constructor(a,n,r){this.feedbackService=a,this.formBuilder=n,this.errorService=r,this.feedback=[],this.filteredFeedback=[]}ngOnInit(){this.searchFeedbackForm=this.formBuilder.group({type:[""],short_description:[""]}),this.searchFeedbackForm.patchValue({type:["general","feature","translation","typo","bug","other"]})}ionViewWillEnter(){this.getFeedback()}searchFeedback(){this.filteredFeedback=[],this.feedback.forEach(a=>{this.searchFeedbackForm.value.type.includes(a.type)&&this.similar(a.short_description,this.searchFeedbackForm.value.short_description)>.3&&this.filteredFeedback.push(a)})}similar(a,n){if(!n)return 1;let r=0;const Y=a.length>n.length?n.length:a.length,O=a.length<n.length?n.length:a.length;for(let g=0;g<Y;g++)a[g]==n[g]&&r++;return r/O}getFeedback(){this.feedbackService.getFeedback().subscribe({error:a=>{this.errorService.errorOccurred.emit(a)},next:a=>{const n=a;this.feedback=n.feedback,this.filteredFeedback=n.feedback}})}deleteFeedback(a){this.feedbackService.deleteFeedback(a).subscribe({error:n=>{this.errorService.errorOccurred.emit(n)},next:()=>{},complete:()=>{this.getFeedback()}})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(Z.T),e.Y36(c.qu),e.Y36(A.T))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-view-feedback"]],decls:38,vars:33,consts:[[3,"title"],["color","light"],[1,"inside-card-grid"],[3,"formGroup"],["color","light","formControlName","short_description","showCancelButton","focus",3,"placeholder","ionChange"],["multiple","","formControlName","type",3,"okText","cancelText","ionChange"],["value","general"],["value","feature"],["value","translation"],["value","typo"],["value","bug"],["value","other"],[4,"ngIf"],["color","light","button","true",3,"routerLink",4,"ngFor","ngForOf"],["color","light","button","true",3,"routerLink"],["class","subtitle-labels","color","primary",4,"ngIf"],["class","subtitle-labels","color","danger",4,"ngIf"],[1,"subtitle-labels"],[1,"long-description-label"],["color","primary",1,"subtitle-labels"],["color","danger",1,"subtitle-labels"],[3,"message"]],template:function(a,n){1&a&&(e.TgZ(0,"ion-content"),e._UZ(1,"app-toolbar"),e.TgZ(2,"ion-grid"),e.TgZ(3,"ion-row"),e.TgZ(4,"ion-col"),e._UZ(5,"app-card-title-bar",0),e.ALo(6,"translate"),e.TgZ(7,"ion-card",1),e.TgZ(8,"ion-card-content"),e.TgZ(9,"ion-grid",2),e.TgZ(10,"ion-row"),e.TgZ(11,"ion-col"),e.TgZ(12,"form",3),e.TgZ(13,"ion-searchbar",4),e.NdJ("ionChange",function(){return n.searchFeedback()}),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"ion-select",5),e.NdJ("ionChange",function(){return n.searchFeedback()}),e.ALo(16,"translate"),e.ALo(17,"translate"),e.TgZ(18,"ion-select-option",6),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"ion-select-option",7),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"ion-select-option",8),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"ion-select-option",9),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"ion-select-option",10),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"ion-select-option",11),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.qZA(),e.qZA(),e.YNc(36,L,2,1,"ng-container",12),e.YNc(37,C,4,3,"ng-container",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(5),e.s9C("title",e.lcZ(6,13,"ACTIONS.VIEW_FEEDBACK.title")),e.xp6(7),e.Q6J("formGroup",n.searchFeedbackForm),e.xp6(1),e.s9C("placeholder",e.lcZ(14,15,"ACTIONS.VIEW_FEEDBACK.INPUT.searchFeedbackPlaceholder")),e.xp6(2),e.s9C("okText",e.lcZ(16,17,"GENERAL.POPUPS.ok")),e.s9C("cancelText",e.lcZ(17,19,"GENERAL.POPUPS.cancel")),e.xp6(4),e.Oqu(e.lcZ(20,21,"GENERAL.FEEDBACK_TYPES.general")),e.xp6(3),e.Oqu(e.lcZ(23,23,"GENERAL.FEEDBACK_TYPES.feature")),e.xp6(3),e.Oqu(e.lcZ(26,25,"GENERAL.FEEDBACK_TYPES.translation")),e.xp6(3),e.Oqu(e.lcZ(29,27,"GENERAL.FEEDBACK_TYPES.typo")),e.xp6(3),e.Oqu(e.lcZ(32,29,"GENERAL.FEEDBACK_TYPES.bug")),e.xp6(3),e.Oqu(e.lcZ(35,31,"GENERAL.FEEDBACK_TYPES.other")),e.xp6(2),e.Q6J("ngIf",n.feedback.length>0),e.xp6(1),e.Q6J("ngIf",0==n.feedback.length))},directives:[o.W2,f.n,o.jY,o.Nd,o.wI,h.$,o.PM,o.FN,c._Y,c.JL,c.sg,o.VI,o.j9,c.JJ,c.u,o.t9,o.QI,o.n0,s.O5,s.sg,o.YI,u.rH,o.Zi,o.Dq,o.tO,o.Q$,E.Y],pipes:[d.X$,s.uU],styles:["ion-card-subtitle[_ngcontent-%COMP%]{margin-top:-1px;margin-bottom:2px}.subtitle-labels[_ngcontent-%COMP%]{display:inline}.long-description-label[_ngcontent-%COMP%]{margin:0;display:block;overflow:hidden;flex:1;font-size:inherit;text-overflow:ellipsis;white-space:nowrap}"]}),t})()}];let q=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(v)],u.Bz]}),t})();var N=i(6453),y=i(6060);let V=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,c.u5,o.Pc,q,N.K,c.UX,d.aw.forChild({loader:{provide:d.Zw,useFactory:y.p,deps:[b.eN]}})]]}),t})()}}]);