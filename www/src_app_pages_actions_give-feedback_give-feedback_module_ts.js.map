{"version":3,"file":"src_app_pages_actions_give-feedback_give-feedback_module_ts.js","mappings":"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","sources":["./src/app/pages/actions/give-feedback/give-feedback.page.html","./src/app/pages/actions/give-feedback/give-feedback-routing.module.ts","./src/app/pages/actions/give-feedback/give-feedback.module.ts","./src/app/pages/actions/give-feedback/give-feedback.page.ts"],"sourcesContent":["export default \"<ion-content>\\n  <app-toolbar></app-toolbar>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n        <app-card-title-bar *ngIf=\\\"!success\\\" title=\\\"{{ 'ACTIONS.GIVE_FEEDBACK.title' | translate }}\\\"></app-card-title-bar>\\n        <ion-card *ngIf=\\\"!success\\\" color=\\\"light\\\">\\n          <ion-card-content>\\n            <ion-grid class=\\\"inside-card-grid\\\">\\n              <ion-row>\\n                <ion-col>\\n                  <form [formGroup]=\\\"giveFeedbackForm\\\" (ngSubmit)=\\\"giveFeedback()\\\">\\n                    <ion-item color=\\\"light\\\">\\n                      <ion-label>{{ 'ACTIONS.GIVE_FEEDBACK.INPUT.type' | translate }}</ion-label>\\n                      <ion-select formControlName=\\\"type\\\" okText=\\\"{{ 'GENERAL.POPUPS.ok' | translate }}\\\" cancelText=\\\"{{ 'GENERAL.POPUPS.cancel' | translate }}\\\">\\n                        <ion-select-option value=\\\"general\\\">{{ 'GENERAL.FEEDBACK_TYPES.general' | translate }}</ion-select-option>\\n                        <ion-select-option value=\\\"feature\\\">{{ 'GENERAL.FEEDBACK_TYPES.feature' | translate }}</ion-select-option>\\n                        <ion-select-option value=\\\"translation\\\">{{ 'GENERAL.FEEDBACK_TYPES.translation' | translate }}</ion-select-option>\\n                        <ion-select-option value=\\\"typo\\\">{{ 'GENERAL.FEEDBACK_TYPES.typo' | translate }}</ion-select-option>\\n                        <ion-select-option value=\\\"bug\\\">{{ 'GENERAL.FEEDBACK_TYPES.bug' | translate }}</ion-select-option>\\n                        <ion-select-option value=\\\"other\\\">{{ 'GENERAL.FEEDBACK_TYPES.other' | translate }}</ion-select-option>\\n                      </ion-select>\\n                    </ion-item>\\n\\n                    <ion-item color=\\\"light\\\">\\n                      <ion-input formControlName=\\\"short_description\\\" type=\\\"text\\\" placeholder=\\\"{{ 'ACTIONS.GIVE_FEEDBACK.INPUT.shortDescription' | translate }}\\\"></ion-input>\\n                    </ion-item>\\n                    <app-form-error [errors]=\\\"errorControl.short_description.errors\\\"></app-form-error>\\n\\n                    <ion-item lines=\\\"none\\\" color=\\\"light\\\">\\n                      <ion-textarea formControlName=\\\"full_description\\\" type=\\\"text\\\" rows=\\\"5\\\" placeholder=\\\"{{ 'ACTIONS.GIVE_FEEDBACK.INPUT.fullDescription' | translate }}\\\"></ion-textarea>\\n                    </ion-item>\\n                    <app-form-error [errors]=\\\"errorControl.full_description.errors\\\"></app-form-error>\\n\\n                    <ion-checkbox class=\\\"invisible\\\" formControlName=\\\"fax\\\"></ion-checkbox>\\n\\n                    <div class=\\\"ion-padding\\\">\\n                      <ion-button *ngIf=\\\"!isProcessed\\\" type=\\\"submit\\\" [disabled]=\\\"giveFeedbackForm.invalid || isProcessed\\\" class=\\\"ion-no-margin\\\" expand=\\\"block\\\" color=\\\"primary\\\">{{ 'ACTIONS.GIVE_FEEDBACK.INPUT.submitButton' | translate }}</ion-button>\\n                      <ion-button *ngIf=\\\"isProcessed\\\" type=\\\"submit\\\" [disabled]=\\\"giveFeedbackForm.invalid || isProcessed\\\" class=\\\"ion-no-margin\\\" expand=\\\"block\\\" color=\\\"primary\\\"><ion-spinner name=\\\"crescent\\\"></ion-spinner></ion-button>\\n                    </div>\\n                  </form>\\n                </ion-col>\\n              </ion-row>\\n            </ion-grid>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { GiveFeedbackPage } from './give-feedback.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: GiveFeedbackPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class GiveFeedbackPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\n\nimport { GiveFeedbackPageRoutingModule } from './give-feedback-routing.module';\nimport { ComponentsModule } from '../../../components/components.module';\n\nimport { GiveFeedbackPage } from './give-feedback.page';\n\nimport {createTranslateLoader} from \"src/app/app.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    GiveFeedbackPageRoutingModule,\n    ComponentsModule,\n    ReactiveFormsModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: createTranslateLoader,\n        deps: [HttpClient]\n      }\n    })\n  ],\n  declarations: [GiveFeedbackPage]\n})\nexport class GiveFeedbackPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Validators, FormGroup, FormBuilder } from '@angular/forms';\nimport { FeedbackService } from 'src/app/services/feedback.service';\nimport { ErrorService } from 'src/app/services/error.service';\nimport {AlertService} from \"../../../services/alert.service\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {Router} from \"@angular/router\";\n\n@Component({\n  selector: 'app-give-feedback',\n  templateUrl: './give-feedback.page.html',\n  styleUrls: ['./give-feedback.page.scss'],\n})\nexport class GiveFeedbackPage implements OnInit {\n  success = false;\n  giveFeedbackForm: FormGroup;\n  isProcessed = false;\n\n  constructor(private feedbackService: FeedbackService,\n              private formBuilder: FormBuilder,\n              private errorService: ErrorService,\n              private alertService: AlertService,\n              private translate: TranslateService,\n              private router: Router) { }\n\n  ngOnInit() {\n    this.giveFeedbackForm = this.formBuilder.group({\n      type: ['general', Validators.required],\n      short_description: ['', Validators.required],\n      full_description: ['', Validators.required],\n      fax: [false]\n    });\n  }\n\n  ionViewWillEnter() {\n    this.isProcessed = false;\n  }\n\n  get errorControl() {\n    return this.giveFeedbackForm.controls;\n  }\n\n  giveFeedback() {\n    if (!this.isProcessed && !this.giveFeedbackForm.value.fax && this.giveFeedbackForm.valid) {\n      this.isProcessed = true;\n      this.feedbackService.giveFeedback(this.giveFeedbackForm.value).subscribe({\n        error: error => {\n          if (error.error.message == 'The given data was invalid.') {\n            for (const errorType in error.error.errors) {\n              let errors: any = [];\n              for (const errorMessage in error.error.errors[errorType]) {\n                errors.push({[error.error.errors[errorType][errorMessage]]: true})\n              }\n              this.giveFeedbackForm.controls[errorType].setErrors(errors)\n            }\n          } else if (error.error.message == 'missingPermissions') {\n            this.alertService.alert(\"danger\", this.translate.instant('GENERAL.ERRORS.missingPermissions'), '', 'lock-closed');\n          } else {\n            this.errorService.errorOccurred.emit(error);\n          }\n          this.isProcessed = false;\n        },\n        next: response => {\n          const resp: any = response;\n          this.alertService.alert(\"success\", this.translate.instant('ACTIONS.GIVE_FEEDBACK.SUCCESS.thankYou'), resp.message, \"heart\")\n        },\n        complete: () => {\n          this.success = true;\n          this.giveFeedbackForm.reset();\n          this.isProcessed = false;\n          this.router.navigate(['/dashboard']);\n        },\n      });\n    }\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}