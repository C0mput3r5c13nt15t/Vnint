"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2205],{2205:(J,m,s)=>{s.r(m),s.d(m,{ForgotPasswordPageModule:()=>b});var u=s(6019),i=s(9133),f=s(4522),e=s(6990),l=s(6431),g=s(6952),o=s(3245),p=s(6898),P=s(5729),h=s(2677),Z=s(6733),v=s(1516),F=s(1750),w=s(3829);function T(t,n){if(1&t&&(o.TgZ(0,"ion-button",11),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&t){const r=o.oxw();o.Q6J("disabled",r.forgotPasswordForm.invalid||r.isProcessed),o.xp6(1),o.Oqu(o.lcZ(2,2,"FORGOT_PASSWORD.INPUT.resetButton"))}}function x(t,n){if(1&t&&(o.TgZ(0,"ion-button",11),o._UZ(1,"ion-spinner",12),o.qZA()),2&t){const r=o.oxw();o.Q6J("disabled",r.forgotPasswordForm.invalid||r.isProcessed)}}const A=[{path:"",component:(()=>{class t{constructor(r,a,d,c,C,I){this.formBuilder=r,this.auth=a,this.router=d,this.errorService=c,this.alert=C,this.translate=I,this.isProcessed=!1}get errorControl(){return this.forgotPasswordForm.controls}ngOnInit(){this.forgotPasswordForm=this.formBuilder.group({email:["",i.kI.required],fax:[]})}ionViewWillEnter(){this.isProcessed=!1,this.auth.authenticated().subscribe({error:r=>{this.errorService.errorOccurred.emit(r)},next:r=>{1==r.authenticated&&(this.auth.setLoggedIn=!0,this.router.navigate(["/dashboard"]))}})}forgotPassword(){if(!this.isProcessed&&!this.forgotPasswordForm.value.fax&&this.forgotPasswordForm.valid){if(this.isProcessed=!0,!this.forgotPasswordForm.valid)return!1;this.auth.sendForgotPasswordEmail(this.forgotPasswordForm.value).subscribe({error:r=>{if("The given data was invalid."==r.error.message)for(const a in r.error.errors){const d=[];for(const c in r.error.errors[a])d.push({[r.error.errors[a][c]]:!0});this.forgotPasswordForm.controls[a].setErrors(d)}else this.errorService.errorOccurred.emit(r);this.isProcessed=!1},next:r=>{let a=r;this.alert.alert("success",this.translate.instant("FORGOT_PASSWORD.title"),a.message,"send")},complete:()=>{this.forgotPasswordForm.reset(),this.auth.setLoggedIn=!1,this.auth.setSessionExpired=!1,this.isProcessed=!1,this.router.navigate(["/login"])}})}}}return t.\u0275fac=function(r){return new(r||t)(o.Y36(i.qu),o.Y36(p.e),o.Y36(g.F0),o.Y36(P.T),o.Y36(h.c),o.Y36(l.sK))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-forgot-password"]],decls:22,vars:10,consts:[[1,"forgot-password-grid"],[3,"title"],["color","light"],[1,"inside-card-grid"],[3,"formGroup","ngSubmit"],["type","email","name","email","formControlName","email",3,"placeholder"],[3,"errors"],["formControlName","fax",1,"invisible"],[1,"ion-padding"],["type","submit","class","ion-no-margin","expand","block","color","primary",3,"disabled",4,"ngIf"],[1,"fixed-footer"],["type","submit","expand","block","color","primary",1,"ion-no-margin",3,"disabled"],["name","crescent"]],template:function(r,a){1&r&&(o.TgZ(0,"ion-content"),o._UZ(1,"app-toolbar"),o.TgZ(2,"ion-grid",0),o.TgZ(3,"ion-row"),o.TgZ(4,"ion-col"),o._UZ(5,"app-card-title-bar",1),o.ALo(6,"translate"),o.TgZ(7,"ion-card",2),o.TgZ(8,"ion-card-content"),o.TgZ(9,"ion-grid",3),o.TgZ(10,"ion-row"),o.TgZ(11,"ion-col"),o.TgZ(12,"form",4),o.NdJ("ngSubmit",function(){return a.forgotPassword()}),o.TgZ(13,"ion-item",2),o._UZ(14,"ion-input",5),o.ALo(15,"translate"),o.qZA(),o._UZ(16,"app-form-error",6),o._UZ(17,"ion-checkbox",7),o.TgZ(18,"div",8),o.YNc(19,T,3,4,"ion-button",9),o.YNc(20,x,2,1,"ion-button",9),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(21,"app-footer",10),o.qZA()),2&r&&(o.xp6(5),o.s9C("title",o.lcZ(6,6,"FORGOT_PASSWORD.title")),o.xp6(7),o.Q6J("formGroup",a.forgotPasswordForm),o.xp6(2),o.s9C("placeholder",o.lcZ(15,8,"LOGIN.INPUT.email")),o.xp6(2),o.Q6J("errors",a.errorControl.email.errors),o.xp6(3),o.Q6J("ngIf",!a.isProcessed),o.xp6(1),o.Q6J("ngIf",a.isProcessed))},directives:[e.W2,Z.n,e.jY,e.Nd,e.wI,v.$,e.PM,e.FN,i._Y,i.JL,i.sg,e.Ie,e.pK,e.j9,i.JJ,i.u,F.A,e.nz,e.w,u.O5,w.c,e.YG,e.PQ],pipes:[l.X$],styles:[".forgot-password-grid[_ngcontent-%COMP%]{max-width:500px}ion-item[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[g.Bz.forChild(A)],g.Bz]}),t})();var S=s(6453),y=s(6060);let b=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[u.ez,i.u5,e.Pc,O,S.K,i.UX,l.aw.forChild({loader:{provide:l.Zw,useFactory:y.p,deps:[f.eN]}})]]}),t})()}}]);