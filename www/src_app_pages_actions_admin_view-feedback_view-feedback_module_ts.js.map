{"version":3,"file":"src_app_pages_actions_admin_view-feedback_view-feedback_module_ts.js","mappings":";;;;;;;;;;;;;AAAA,iEAAe,oIAAoI,4CAA4C,qWAAqW,sEAAsE,8MAA8M,kCAAkC,mBAAmB,sCAAsC,mEAAmE,+CAA+C,oFAAoF,+CAA+C,wFAAwF,mDAAmD,iFAAiF,4CAA4C,gFAAgF,2CAA2C,kFAAkF,6CAA6C,wOAAwO,cAAc,iKAAiK,6BAA6B,sNAAsN,+CAA+C,8IAA8I,+CAA+C,iJAAiJ,mDAAmD,0IAA0I,4CAA4C,yIAAyI,2CAA2C,4IAA4I,6CAA6C,uFAAuF,+EAA+E,+JAA+J,4BAA4B,wQAAwQ,iDAAiD,kQAAkQ;;;;;;;;;;;;;;;;;;;ACA1lI;AACc;AAEC;AAExD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,iEAAgB;KAC5B;CACF,CAAC;IAMW,6BAA6B,SAA7B,6BAA6B;CAAG;AAAhC,6BAA6B;IAJzC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,6BAA6B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBD;AACM;AACmB;AAChB;AAEL;AAE0B;AAEQ;AACH;AAEpB;AAEC;IAoB5C,sBAAsB,SAAtB,sBAAsB;CAAG;AAAzB,sBAAsB;IAlBlC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,wFAA6B;YAC7B,2EAAgB;YAChB,+DAAmB;YACnB,yEAAwB,CAAC;gBACvB,MAAM,EAAE;oBACN,OAAO,EAAE,gEAAe;oBACxB,UAAU,EAAE,qEAAqB;oBACjC,IAAI,EAAE,CAAC,6DAAU,CAAC;iBACnB;aACF,CAAC;SACH;QACD,YAAY,EAAE,CAAC,iEAAgB,CAAC;KACjC,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCa;AACM;AAEY;AACN;AACP;AACW;IAOnD,gBAAgB,SAAhB,gBAAgB;IAK3B,YAAoB,eAAgC,EAChC,WAAwB,EACxB,YAA0B,EAC1B,SAA2B,EAC3B,YAA0B;QAJ1B,oBAAe,GAAf,eAAe,CAAiB;QAChC,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,cAAS,GAAT,SAAS,CAAkB;QAC3B,iBAAY,GAAZ,YAAY,CAAc;QAP9C,aAAQ,GAAe,EAAE,CAAC;QAC1B,qBAAgB,GAAe,EAAE,CAAC;IAMgB,CAAC;IAEnD,QAAQ;QACN,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC/C,IAAI,EAAE,CAAC,EAAE,CAAC;YACV,iBAAiB,EAAE,CAAC,EAAE,CAAC;SACxB,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC;YACjC,IAAI,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,aAAa,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC;SACpE,CAAC;IACJ,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;YAC/B,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,iBAAiB,EAAE,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,iBAAiB,CAAC,GAAG,GAAG,EAAE;gBACjK,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACtC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO,CAAC,iBAAiB,EAAE,KAAK;QAC9B,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,CAAC,CAAC;SACV;QAED,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,MAAM,SAAS,GAAG,CAAC,iBAAiB,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,iBAAiB,CAAC,MAAM,CAAC;QACtG,MAAM,SAAS,GAAG,CAAC,iBAAiB,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,iBAAiB,CAAC,MAAM,CAAC;QACtG,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;YAC/B,IAAG,iBAAiB,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE;gBACjC,WAAW,EAAE,CAAC;aACjB;SACJ;QACD,OAAO,WAAW,GAAG,SAAS,CAAC;IACjC,CAAC;IAED,WAAW;QACT,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC;YAC3C,KAAK,EAAE,KAAK,CAAC,EAAE;gBACb,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9C,CAAC;YACD,IAAI,EAAE,QAAQ,CAAC,EAAE;gBACf,MAAM,IAAI,GAAQ,QAAQ,CAAC;gBAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC9B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC;YACxC,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,cAAc,CAAC,UAAU;QACvB,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC;YACxD,KAAK,EAAE,KAAK,CAAC,EAAE;gBACb,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9C,CAAC;YACD,IAAI,EAAE,GAAG,EAAE,GAAE,CAAC;YACd,QAAQ,EAAE,GAAG,EAAE;gBACb,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,CAAC;SACF,CAAC,CAAC;IACL,CAAC;CAEF;;YArFO,8EAAe;YAFf,uDAAW;YAGX,wEAAY;YACZ,iEAAgB;YAChB,iEAAY;;AAOP,gBAAgB;IAL5B,wDAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,4MAAwC;;KAEzC,CAAC;GACW,gBAAgB,CA2E5B;AA3E4B","sources":["./src/app/pages/actions/admin/view-feedback/view-feedback.page.html","./src/app/pages/actions/admin/view-feedback/view-feedback-routing.module.ts","./src/app/pages/actions/admin/view-feedback/view-feedback.module.ts","./src/app/pages/actions/admin/view-feedback/view-feedback.page.ts"],"sourcesContent":["export default \"<ion-content>\\n  <app-toolbar></app-toolbar>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n        <app-card-title-bar title=\\\"{{ 'ACTIONS.VIEW_FEEDBACK.title' | translate }}\\\"></app-card-title-bar>\\n        <ion-card color=\\\"light\\\">\\n          <ion-card-content>\\n            <ion-grid class=\\\"inside-card-grid\\\">\\n              <ion-row>\\n                <ion-col>\\n                  <form [formGroup]=\\\"searchFeedbackForm\\\">\\n                    <ion-searchbar color=\\\"light\\\" (ionChange)=\\\"searchFeedback()\\\" placeholder=\\\"{{ 'ACTIONS.VIEW_FEEDBACK.INPUT.searchFeedbackPlaceholder' | translate }}\\\" formControlName=\\\"short_description\\\" showCancelButton=\\\"focus\\\"></ion-searchbar>\\n                    <ion-select (ionChange)=\\\"searchFeedback()\\\" multiple=\\\"true\\\" formControlName=\\\"type\\\" okText=\\\"{{ 'GENERAL.POPUPS.ok' | translate }}\\\" cancelText=\\\"{{ 'GENERAL.POPUPS.cancel' | translate }}\\\">\\n                      <ion-select-option value=\\\"general\\\">{{ 'GENERAL.FEEDBACK_TYPES.general' | translate }}</ion-select-option>\\n                      <ion-select-option value=\\\"feature\\\">{{ 'GENERAL.FEEDBACK_TYPES.feature' | translate }}</ion-select-option>\\n                      <ion-select-option value=\\\"translation\\\">{{ 'GENERAL.FEEDBACK_TYPES.translation' | translate }}</ion-select-option>\\n                      <ion-select-option value=\\\"typo\\\">{{ 'GENERAL.FEEDBACK_TYPES.typo' | translate }}</ion-select-option>\\n                      <ion-select-option value=\\\"bug\\\">{{ 'GENERAL.FEEDBACK_TYPES.bug' | translate }}</ion-select-option>\\n                      <ion-select-option value=\\\"other\\\">{{ 'GENERAL.FEEDBACK_TYPES.other' | translate }}</ion-select-option>\\n                    </ion-select>\\n                  </form>\\n                  <ng-container *ngIf=\\\"feedback.length > 0\\\">\\n                    <ion-card color=\\\"light\\\" button=true routerLink=\\\"/feedback/{{ feedback.id }}\\\" *ngFor=\\\"let feedback of filteredFeedback\\\">\\n                      <ion-card-header>\\n                        <ion-card-title>\\n                          {{ feedback.short_description }}\\n                        </ion-card-title>\\n                        <ion-card-subtitle>\\n                          <ion-label class=\\\"subtitle-labels\\\" color=\\\"primary\\\" *ngIf=\\\"feedback.type == 'general'\\\"><b>{{ 'GENERAL.FEEDBACK_TYPES.general' | translate }}</b></ion-label>\\n                          <ion-label class=\\\"subtitle-labels\\\" color=\\\"primary\\\" *ngIf=\\\"feedback.type == 'feature'\\\"><b>{{ 'GENERAL.FEEDBACK_TYPES.feature' | translate }}</b></ion-label>\\n                          <ion-label class=\\\"subtitle-labels\\\" color=\\\"danger\\\" *ngIf=\\\"feedback.type == 'translation'\\\"><b>{{ 'GENERAL.FEEDBACK_TYPES.translation' | translate }}</b></ion-label>\\n                          <ion-label class=\\\"subtitle-labels\\\" color=\\\"danger\\\" *ngIf=\\\"feedback.type == 'typo'\\\"><b>{{ 'GENERAL.FEEDBACK_TYPES.typo' | translate }}</b></ion-label>\\n                          <ion-label class=\\\"subtitle-labels\\\" color=\\\"danger\\\" *ngIf=\\\"feedback.type == 'bug'\\\"><b>{{ 'GENERAL.FEEDBACK_TYPES.bug' | translate }}</b></ion-label>\\n                          <ion-label class=\\\"subtitle-labels\\\" color=\\\"primary\\\" *ngIf=\\\"feedback.type == 'other'\\\"><b>{{ 'GENERAL.FEEDBACK_TYPES.other' | translate }}</b></ion-label>\\n                          <ion-label class=\\\"subtitle-labels\\\"> - {{ feedback.created_at | date :( 'GENERAL.exactTimeDisplayFormat' | translate ) }}</ion-label>\\n                        </ion-card-subtitle>\\n                        <ion-label class=\\\"long-description-label\\\">\\n                          {{ feedback.full_description }}\\n                        </ion-label>\\n                      </ion-card-header>\\n                    </ion-card>\\n                  </ng-container>\\n                  <ng-container *ngIf=\\\"feedback.length == 0\\\">\\n                    <app-empty-card message=\\\"{{ 'ACTIONS.VIEW_FEEDBACK.noFeedback' | translate }}\\\"></app-empty-card><br>\\n                  </ng-container>\\n                </ion-col>\\n              </ion-row>\\n            </ion-grid>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ViewFeedbackPage } from './view-feedback.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ViewFeedbackPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ViewFeedbackPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\n\nimport { ViewFeedbackPageRoutingModule } from './view-feedback-routing.module';\nimport { ComponentsModule } from '../../../../components/components.module';\n\nimport { ViewFeedbackPage } from './view-feedback.page';\n\nimport {createTranslateLoader} from \"src/app/app.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ViewFeedbackPageRoutingModule,\n    ComponentsModule,\n    ReactiveFormsModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: createTranslateLoader,\n        deps: [HttpClient]\n      }\n    })\n  ],\n  declarations: [ViewFeedbackPage]\n})\nexport class ViewFeedbackPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup} from '@angular/forms';\nimport {Feedback} from 'src/app/interfaces/feedback';\nimport {FeedbackService} from 'src/app/services/feedback.service';\nimport {ErrorService} from 'src/app/services/error.service';\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {AlertService} from \"../../../../services/alert.service\";\n\n@Component({\n  selector: 'app-view-feedback',\n  templateUrl: './view-feedback.page.html',\n  styleUrls: ['./view-feedback.page.scss'],\n})\nexport class ViewFeedbackPage implements OnInit {\n  searchFeedbackForm: FormGroup;\n  feedback: Feedback[] = [];\n  filteredFeedback: Feedback[] = [];\n\n  constructor(private feedbackService: FeedbackService,\n              private formBuilder: FormBuilder,\n              private errorService: ErrorService,\n              private translate: TranslateService,\n              private alertService: AlertService) { }\n\n  ngOnInit() {\n    this.searchFeedbackForm = this.formBuilder.group({\n      type: [''],\n      short_description: [''],\n    });\n    this.searchFeedbackForm.patchValue({\n      type: ['general', 'feature', 'translation', 'typo', 'bug', 'other']\n    })\n  }\n\n  ionViewWillEnter() {\n    this.getFeedback();\n  }\n\n  searchFeedback() {\n    this.filteredFeedback = [];\n    this.feedback.forEach(feedback => {\n      if (this.searchFeedbackForm.value.type.includes(feedback.type) && this.similar(feedback.short_description, this.searchFeedbackForm.value.short_description) > 0.3) {\n        this.filteredFeedback.push(feedback);\n      }\n    });\n  }\n\n  similar(short_description, input) {\n    if (!input) {\n      return 1;\n    }\n\n    let equivalency = 0;\n    const minLength = (short_description.length > input.length) ? input.length : short_description.length;\n    const maxLength = (short_description.length < input.length) ? input.length : short_description.length;\n    for(let i = 0; i < minLength; i++) {\n        if(short_description[i] == input[i]) {\n            equivalency++;\n        }\n    }\n    return equivalency / maxLength;\n  }\n\n  getFeedback() {\n    this.feedbackService.getFeedback().subscribe({\n      error: error => {\n        this.errorService.errorOccurred.emit(error);\n      },\n      next: response => {\n        const resp: any = response;\n        this.feedback = resp.feedback;\n        this.filteredFeedback = resp.feedback;\n      },\n    });\n  }\n\n  deleteFeedback(feedbackId) {\n    this.feedbackService.deleteFeedback(feedbackId).subscribe({\n      error: error => {\n        this.errorService.errorOccurred.emit(error);\n      },\n      next: () => {},\n      complete: () => {\n        this.getFeedback();\n      },\n    });\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}