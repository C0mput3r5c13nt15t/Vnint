"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3882],{3882:(w,Z,o)=>{o.r(Z),o.d(Z,{ViewFeedbackPageModule:()=>S});var s=o(6019),c=o(9133),A=o(4522),i=o(6990),g=o(6431),u=o(6952),e=o(3245),f=o(8834),h=o(5729),E=o(2677),F=o(6733),T=o(1516),_=o(2932);function m(t,l){1&t&&(e.TgZ(0,"ion-label",19),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.general")))}function k(t,l){1&t&&(e.TgZ(0,"ion-label",19),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.feature")))}function x(t,l){1&t&&(e.TgZ(0,"ion-label",20),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.translation")))}function P(t,l){1&t&&(e.TgZ(0,"ion-label",20),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.typo")))}function v(t,l){1&t&&(e.TgZ(0,"ion-label",20),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.bug")))}function L(t,l){1&t&&(e.TgZ(0,"ion-label",19),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"GENERAL.FEEDBACK_TYPES.other")))}function C(t,l){if(1&t&&(e.TgZ(0,"ion-card",14),e.TgZ(1,"ion-card-header"),e.TgZ(2,"ion-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-card-subtitle"),e.YNc(5,m,4,3,"ion-label",15),e.YNc(6,k,4,3,"ion-label",15),e.YNc(7,x,4,3,"ion-label",16),e.YNc(8,P,4,3,"ion-label",16),e.YNc(9,v,4,3,"ion-label",16),e.YNc(10,L,4,3,"ion-label",15),e.TgZ(11,"ion-label",17),e._uU(12),e.ALo(13,"date"),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.TgZ(15,"ion-label",18),e._uU(16),e.qZA(),e.qZA(),e.qZA()),2&t){const a=l.$implicit;e.MGl("routerLink","/feedback/",a.id,""),e.xp6(3),e.hij(" ",a.short_description," "),e.xp6(2),e.Q6J("ngIf","general"==a.type),e.xp6(1),e.Q6J("ngIf","feature"==a.type),e.xp6(1),e.Q6J("ngIf","translation"==a.type),e.xp6(1),e.Q6J("ngIf","typo"==a.type),e.xp6(1),e.Q6J("ngIf","bug"==a.type),e.xp6(1),e.Q6J("ngIf","other"==a.type),e.xp6(2),e.hij(" - ",e.xi3(13,10,a.created_at,e.lcZ(14,13,"GENERAL.exactTimeDisplayFormat")),""),e.xp6(4),e.hij(" ",a.full_description," ")}}function q(t,l){if(1&t&&(e.ynx(0),e.YNc(1,C,17,15,"ion-card",13),e.BQk()),2&t){const a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.filteredFeedback)}}function N(t,l){1&t&&(e.ynx(0),e._UZ(1,"app-empty-card",21),e.ALo(2,"translate"),e._UZ(3,"br"),e.BQk()),2&t&&(e.xp6(1),e.s9C("message",e.lcZ(2,1,"ACTIONS.VIEW_FEEDBACK.noFeedback")))}const y=[{path:"",component:(()=>{class t{constructor(a,n,r,p,b){this.feedbackService=a,this.formBuilder=n,this.errorService=r,this.translate=p,this.alertService=b,this.feedback=[],this.filteredFeedback=[]}ngOnInit(){this.searchFeedbackForm=this.formBuilder.group({type:[""],short_description:[""]}),this.searchFeedbackForm.patchValue({type:["general","feature","translation","typo","bug","other"]})}ionViewWillEnter(){this.getFeedback()}searchFeedback(){this.filteredFeedback=[],this.feedback.forEach(a=>{this.searchFeedbackForm.value.type.includes(a.type)&&this.similar(a.short_description,this.searchFeedbackForm.value.short_description)>.3&&this.filteredFeedback.push(a)})}similar(a,n){if(!n)return 1;let r=0;const p=a.length>n.length?n.length:a.length,b=a.length<n.length?n.length:a.length;for(let d=0;d<p;d++)a[d]==n[d]&&r++;return r/b}getFeedback(){this.feedbackService.getFeedback().subscribe({error:a=>{this.errorService.errorOccurred.emit(a)},next:a=>{const n=a;this.feedback=n.feedback,this.filteredFeedback=n.feedback}})}deleteFeedback(a){this.feedbackService.deleteFeedback(a).subscribe({error:n=>{this.errorService.errorOccurred.emit(n)},next:()=>{},complete:()=>{this.getFeedback()}})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(f.T),e.Y36(c.qu),e.Y36(h.T),e.Y36(g.sK),e.Y36(E.c))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-view-feedback"]],decls:38,vars:33,consts:[[3,"title"],["color","light"],[1,"inside-card-grid"],[3,"formGroup"],["color","light","formControlName","short_description","showCancelButton","focus",3,"placeholder","ionChange"],["multiple","true","formControlName","type",3,"okText","cancelText","ionChange"],["value","general"],["value","feature"],["value","translation"],["value","typo"],["value","bug"],["value","other"],[4,"ngIf"],["color","light","button","true",3,"routerLink",4,"ngFor","ngForOf"],["color","light","button","true",3,"routerLink"],["class","subtitle-labels","color","primary",4,"ngIf"],["class","subtitle-labels","color","danger",4,"ngIf"],[1,"subtitle-labels"],[1,"long-description-label"],["color","primary",1,"subtitle-labels"],["color","danger",1,"subtitle-labels"],[3,"message"]],template:function(a,n){1&a&&(e.TgZ(0,"ion-content"),e._UZ(1,"app-toolbar"),e.TgZ(2,"ion-grid"),e.TgZ(3,"ion-row"),e.TgZ(4,"ion-col"),e._UZ(5,"app-card-title-bar",0),e.ALo(6,"translate"),e.TgZ(7,"ion-card",1),e.TgZ(8,"ion-card-content"),e.TgZ(9,"ion-grid",2),e.TgZ(10,"ion-row"),e.TgZ(11,"ion-col"),e.TgZ(12,"form",3),e.TgZ(13,"ion-searchbar",4),e.NdJ("ionChange",function(){return n.searchFeedback()}),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"ion-select",5),e.NdJ("ionChange",function(){return n.searchFeedback()}),e.ALo(16,"translate"),e.ALo(17,"translate"),e.TgZ(18,"ion-select-option",6),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"ion-select-option",7),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"ion-select-option",8),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"ion-select-option",9),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"ion-select-option",10),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"ion-select-option",11),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.qZA(),e.qZA(),e.YNc(36,q,2,1,"ng-container",12),e.YNc(37,N,4,3,"ng-container",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(5),e.s9C("title",e.lcZ(6,13,"ACTIONS.VIEW_FEEDBACK.title")),e.xp6(7),e.Q6J("formGroup",n.searchFeedbackForm),e.xp6(1),e.s9C("placeholder",e.lcZ(14,15,"ACTIONS.VIEW_FEEDBACK.INPUT.searchFeedbackPlaceholder")),e.xp6(2),e.s9C("okText",e.lcZ(16,17,"GENERAL.POPUPS.ok")),e.s9C("cancelText",e.lcZ(17,19,"GENERAL.POPUPS.cancel")),e.xp6(4),e.Oqu(e.lcZ(20,21,"GENERAL.FEEDBACK_TYPES.general")),e.xp6(3),e.Oqu(e.lcZ(23,23,"GENERAL.FEEDBACK_TYPES.feature")),e.xp6(3),e.Oqu(e.lcZ(26,25,"GENERAL.FEEDBACK_TYPES.translation")),e.xp6(3),e.Oqu(e.lcZ(29,27,"GENERAL.FEEDBACK_TYPES.typo")),e.xp6(3),e.Oqu(e.lcZ(32,29,"GENERAL.FEEDBACK_TYPES.bug")),e.xp6(3),e.Oqu(e.lcZ(35,31,"GENERAL.FEEDBACK_TYPES.other")),e.xp6(2),e.Q6J("ngIf",n.feedback.length>0),e.xp6(1),e.Q6J("ngIf",0==n.feedback.length))},directives:[i.W2,F.n,i.jY,i.Nd,i.wI,T.$,i.PM,i.FN,c._Y,c.JL,c.sg,i.VI,i.j9,c.JJ,c.u,i.t9,i.QI,i.n0,s.O5,s.sg,i.YI,u.rH,i.Zi,i.Dq,i.tO,i.Q$,_.Y],pipes:[g.X$,s.uU],styles:["ion-card-subtitle[_ngcontent-%COMP%]{margin-top:-1px;margin-bottom:2px}.subtitle-labels[_ngcontent-%COMP%]{display:inline}.long-description-label[_ngcontent-%COMP%]{margin:0;display:block;overflow:hidden;flex:1;font-size:inherit;text-overflow:ellipsis;white-space:nowrap}"]}),t})()}];let Y=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(y)],u.Bz]}),t})();var V=o(6453),O=o(6060);let S=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,c.u5,i.Pc,Y,V.K,c.UX,g.aw.forChild({loader:{provide:g.Zw,useFactory:O.p,deps:[A.eN]}})]]}),t})()}}]);