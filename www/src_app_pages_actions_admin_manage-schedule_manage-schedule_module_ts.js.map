{"version":3,"file":"src_app_pages_actions_admin_manage-schedule_manage-schedule_module_ts.js","mappings":"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","sources":["./src/app/pages/actions/admin/manage-schedule/manage-schedule.page.html","./src/app/pages/actions/admin/manage-schedule/manage-schedule-routing.module.ts","./src/app/pages/actions/admin/manage-schedule/manage-schedule.module.ts","./src/app/pages/actions/admin/manage-schedule/manage-schedule.page.ts"],"sourcesContent":["export default \"<ion-content>\\n  <app-toolbar></app-toolbar>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n        <app-card-title-bar title=\\\"{{ 'ACTIONS.MANAGE_SCHEDULE.title' | translate }}\\\"></app-card-title-bar>\\n        <ion-card *ngIf=\\\"events\\\" color=\\\"light\\\">\\n          <ion-card-content>\\n            <div class=\\\"timeline\\\">\\n              <ng-container *ngFor=\\\"let event of events\\\">\\n                <div class=\\\"container {{ event.id % 2 == 0 ? 'right' : 'left' }}\\\">\\n                  <ion-card color=\\\"light\\\">\\n                    <ion-card-header>\\n                      <ion-card-title>\\n                        {{ event.title }}\\n                      </ion-card-title>\\n                      <ion-card-subtitle>\\n                        {{ event.from | date:( 'GENERAL.timeDisplayFormat' | translate ):( 'GENERAL.timezone' | translate ):( 'GENERAL.locale' | translate ) }} - {{ event.until | date:( 'GENERAL.timeDisplayFormat' | translate ):( 'GENERAL.timezone' | translate ):( 'GENERAL.locale' | translate ) }}\\n                      </ion-card-subtitle>\\n                    </ion-card-header>\\n                    <ion-card-content>\\n                      <div *ngIf=\\\"event.permissions.length > 0\\\" class=\\\"ion-margin-bottom\\\">\\n                        <ion-badge *ngFor=\\\"let permission of event.permissions\\\"><ion-label>{{ ('GENERAL.PERMISSIONS.' + permission.name) | translate }}</ion-label></ion-badge>\\n                      </div>\\n                      <ion-label>\\n                        {{ event.description }}\\n                      </ion-label>\\n                      <hr>\\n                      <ion-chip *ngIf=\\\"updateEventForm.value.id != event.id\\\" [disabled]=\\\"updateEventForm.value.id || showAddEvent\\\" (click)=\\\"editEvent(event)\\\" color=\\\"primary\\\">\\n                        <ion-icon name=\\\"pencil\\\"></ion-icon>\\n                        <ion-label>{{ 'ACTIONS.MANAGE_SCHEDULE.edit' | translate }}</ion-label>\\n                      </ion-chip>\\n                      <ion-chip *ngIf=\\\"updateEventForm.value.id == event.id\\\" (click)=\\\"updateEventForm.patchValue({id: 0, title:'', description:'', from: null, until: null})\\\" color=\\\"danger\\\">\\n                        <ion-icon name=\\\"close\\\"></ion-icon>\\n                        <ion-label>{{ 'ACTIONS.MANAGE_SCHEDULE.abortEditing' | translate }}</ion-label>\\n                      </ion-chip>\\n                      <ion-chip (click)=\\\"deleteEvent(event.id)\\\" color=\\\"danger\\\">\\n                        <ion-icon name=\\\"trash\\\"></ion-icon>\\n                        <ion-label>{{ 'ACTIONS.MANAGE_SCHEDULE.delete' | translate }}</ion-label>\\n                      </ion-chip>\\n                    </ion-card-content>\\n                  </ion-card>\\n                </div>\\n              </ng-container>\\n              <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"{{ isDesktop ? 'center' : 'left' }}\\\" slot=\\\"fixed\\\">\\n                <ion-fab-button [disabled]=\\\"updateEventForm.value.id\\\" *ngIf=\\\"!showAddEvent\\\" (click)=\\\"showAddEvent = true\\\" color=\\\"primary\\\">\\n                  <ion-icon name=\\\"add\\\"></ion-icon>\\n                </ion-fab-button>\\n                <ion-fab-button *ngIf=\\\"showAddEvent\\\" (click)=\\\"showAddEvent = false\\\" color=\\\"danger\\\">\\n                  <ion-icon name=\\\"close\\\"></ion-icon>\\n                </ion-fab-button>\\n              </ion-fab>\\n            </div>\\n            <ion-card [@openClose]=\\\"showAddEvent ? 'open' : 'closed'\\\" color=\\\"light\\\">\\n              <ion-card-header>\\n                <ion-card-title>\\n                  {{ 'ACTIONS.MANAGE_SCHEDULE.addEvent' | translate }}\\n                </ion-card-title>\\n              </ion-card-header>\\n              <ion-card-content>\\n                <form [formGroup]=\\\"addEventForm\\\" (ngSubmit)=\\\"addEvent(addEventForm)\\\">\\n                  <ion-item color=\\\"light\\\">\\n                    <ion-input formControlName=\\\"title\\\" type=\\\"text\\\" placeholder=\\\"{{ 'ACTIONS.MANAGE_SCHEDULE.INPUT.title' | translate }}\\\"></ion-input>\\n                  </ion-item>\\n                  <app-form-error [errors]=\\\"addEventErrorControl.title.errors\\\"></app-form-error>\\n\\n                  <ion-item color=\\\"light\\\">\\n                    <ion-input formControlName=\\\"description\\\" type=\\\"text\\\" placeholder=\\\"{{ 'ACTIONS.MANAGE_SCHEDULE.INPUT.description' | translate }}\\\"></ion-input>\\n                  </ion-item>\\n                  <app-form-error [errors]=\\\"addEventErrorControl.description.errors\\\"></app-form-error>\\n\\n                  <ion-item color=\\\"light\\\" lines=\\\"none\\\">\\n                    <ion-label>{{ 'ACTIONS.MANAGE_SCHEDULE.INPUT.from' | translate }} {{ addEventForm.value.from | date:( 'GENERAL.timeDisplayFormat' | translate ):( 'GENERAL.timezone' | translate ):( 'GENERAL.locale' | translate ) }}</ion-label>\\n                  </ion-item>\\n                  <ion-datetime presentation=\\\"date\\\" [locale]=\\\"( 'GENERAL.locale' | translate )\\\" formControlName=\\\"from\\\" doneText=\\\"{{ 'GENERAL.POPUPS.done' | translate }}\\\" cancelText=\\\"{{ 'GENERAL.POPUPS.cancel' | translate }}\\\"></ion-datetime>\\n                  <app-form-error [errors]=\\\"addEventErrorControl.from.errors\\\"></app-form-error>\\n\\n                  <ion-item color=\\\"light\\\" lines=\\\"none\\\">\\n                    <ion-label>{{ 'ACTIONS.MANAGE_SCHEDULE.INPUT.until' | translate }} {{ addEventForm.value.until | date:( 'GENERAL.timeDisplayFormat' | translate ):( 'GENERAL.timezone' | translate ):( 'GENERAL.locale' | translate ) }}</ion-label>\\n                  </ion-item>\\n                  <ion-datetime presentation=\\\"date\\\" [locale]=\\\"( 'GENERAL.locale' | translate )\\\" formControlName=\\\"until\\\" doneText=\\\"{{ 'GENERAL.POPUPS.done' | translate }}\\\" cancelText=\\\"{{ 'GENERAL.POPUPS.cancel' | translate }}\\\"></ion-datetime>\\n                  <app-form-error [errors]=\\\"addEventErrorControl.until.errors\\\"></app-form-error>\\n\\n                  <ion-list *ngIf=\\\"addEventPermissions.length > 0\\\">\\n                    <ion-item color=\\\"light\\\" lines=\\\"none\\\" *ngFor=\\\"let permission of addEventPermissions\\\">\\n                      <ion-label>{{ ('GENERAL.PERMISSIONS.' + permission.name) | translate }}</ion-label>\\n                      <ion-checkbox slot=\\\"start\\\" [(ngModel)]=\\\"permission.isChecked\\\" [ngModelOptions]=\\\"{standalone: true}\\\"></ion-checkbox>\\n                    </ion-item>\\n                  </ion-list>\\n\\n                  <div class=\\\"ion-padding\\\">\\n                    <ion-button *ngIf=\\\"!isProcessed\\\" type=\\\"submit\\\" [disabled]=\\\"addEventForm.invalid || isProcessed\\\" class=\\\"ion-no-margin\\\" expand=\\\"block\\\" color=\\\"primary\\\">{{ 'ACTIONS.MANAGE_SCHEDULE.INPUT.addEventButton' | translate }}</ion-button>\\n                    <ion-button *ngIf=\\\"isProcessed\\\" type=\\\"submit\\\" [disabled]=\\\"addEventForm.invalid || isProcessed\\\" class=\\\"ion-no-margin\\\" expand=\\\"block\\\" color=\\\"primary\\\"><ion-spinner name=\\\"crescent\\\"></ion-spinner></ion-button>\\n                  </div>\\n                </form>\\n              </ion-card-content>\\n            </ion-card>\\n            <ion-card [@openClose]=\\\"updateEventForm.value.id ? 'open' : 'closed'\\\" color=\\\"light\\\">\\n              <ion-card-header>\\n                <ion-card-title>\\n                  {{ 'ACTIONS.MANAGE_SCHEDULE.updateEvent' | translate }}\\n                </ion-card-title>\\n              </ion-card-header>\\n              <ion-card-content>\\n                <form [formGroup]=\\\"updateEventForm\\\" (ngSubmit)=\\\"updateEvent()\\\">\\n                  <ion-item color=\\\"light\\\">\\n                    <ion-input formControlName=\\\"title\\\" type=\\\"text\\\" placeholder=\\\"{{ 'ACTIONS.MANAGE_SCHEDULE.INPUT.title' | translate }}\\\"></ion-input>\\n                  </ion-item>\\n                  <app-form-error [errors]=\\\"updateEventErrorControl.title.errors\\\"></app-form-error>\\n\\n                  <ion-item color=\\\"light\\\">\\n                    <ion-input formControlName=\\\"description\\\" type=\\\"text\\\" placeholder=\\\"{{ 'ACTIONS.MANAGE_SCHEDULE.INPUT.description' | translate }}\\\"></ion-input>\\n                  </ion-item>\\n                  <app-form-error [errors]=\\\"updateEventErrorControl.description.errors\\\"></app-form-error>\\n\\n                  <ion-item color=\\\"light\\\" lines=\\\"none\\\">\\n                    <ion-label>{{ 'ACTIONS.MANAGE_SCHEDULE.INPUT.from' | translate }} {{ updateEventForm.value.from | date:( 'GENERAL.timeDisplayFormat' | translate ):( 'GENERAL.timezone' | translate ):( 'GENERAL.locale' | translate ) }}</ion-label>\\n                  </ion-item>\\n                  <ion-datetime presentation=\\\"date\\\" [locale]=\\\"( 'GENERAL.locale' | translate )\\\" formControlName=\\\"from\\\" doneText=\\\"{{ 'GENERAL.POPUPS.done' | translate }}\\\" cancelText=\\\"{{ 'GENERAL.POPUPS.cancel' | translate }}\\\"></ion-datetime>\\n                  <app-form-error [errors]=\\\"updateEventErrorControl.from.errors\\\"></app-form-error>\\n\\n                  <ion-item color=\\\"light\\\" lines=\\\"none\\\">\\n                    <ion-label>{{ 'ACTIONS.MANAGE_SCHEDULE.INPUT.until' | translate }} {{ updateEventForm.value.until | date:( 'GENERAL.timeDisplayFormat' | translate ):( 'GENERAL.timezone' | translate ):( 'GENERAL.locale' | translate ) }}</ion-label>\\n                  </ion-item>\\n                  <ion-datetime presentation=\\\"date\\\" [locale]=\\\"( 'GENERAL.locale' | translate )\\\" formControlName=\\\"until\\\" doneText=\\\"{{ 'GENERAL.POPUPS.done' | translate }}\\\" cancelText=\\\"{{ 'GENERAL.POPUPS.cancel' | translate }}\\\"></ion-datetime>\\n                  <app-form-error [errors]=\\\"updateEventErrorControl.until.errors\\\"></app-form-error>\\n\\n                  <ion-list *ngIf=\\\"updateEventPermissions.length > 0\\\">\\n                    <ion-item color=\\\"light\\\" lines=\\\"none\\\" *ngFor=\\\"let permission of updateEventPermissions\\\">\\n                      <ion-label>{{ ('GENERAL.PERMISSIONS.' + permission.name) | translate }}</ion-label>\\n                      <ion-checkbox slot=\\\"start\\\" [(ngModel)]=\\\"permission.isChecked\\\" [ngModelOptions]=\\\"{standalone: true}\\\"></ion-checkbox>\\n                    </ion-item>\\n                  </ion-list>\\n\\n                  <div class=\\\"ion-padding\\\">\\n                    <ion-button *ngIf=\\\"!isProcessed\\\" type=\\\"submit\\\" [disabled]=\\\"updateEventForm.invalid || isProcessed\\\" class=\\\"ion-no-margin\\\" expand=\\\"block\\\" color=\\\"primary\\\">{{ 'ACTIONS.MANAGE_SCHEDULE.INPUT.updateEventButton' | translate }}</ion-button>\\n                    <ion-button *ngIf=\\\"isProcessed\\\" type=\\\"submit\\\" [disabled]=\\\"updateEventForm.invalid || isProcessed\\\" class=\\\"ion-no-margin\\\" expand=\\\"block\\\" color=\\\"primary\\\"><ion-spinner name=\\\"crescent\\\"></ion-spinner></ion-button>\\n                  </div>\\n                </form>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ManageSchedulePage } from './manage-schedule.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ManageSchedulePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ManageSchedulePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\n\nimport { ManageSchedulePageRoutingModule } from './manage-schedule-routing.module';\nimport { ComponentsModule } from '../../../../components/components.module';\n\nimport { ManageSchedulePage } from './manage-schedule.page';\n\nimport {createTranslateLoader} from \"src/app/app.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ManageSchedulePageRoutingModule,\n    ComponentsModule,\n    ReactiveFormsModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: createTranslateLoader,\n        deps: [HttpClient]\n      }\n    })\n  ],\n  declarations: [ManageSchedulePage]\n})\nexport class ManageSchedulePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { EventService } from 'src/app/services/event.service';\nimport { trigger, state, style, animate, transition } from '@angular/animations';\nimport { ScreenSizeService } from 'src/app/services/screensize.service';\nimport { RolesAndPermissionsService } from 'src/app/services/roles-and-permissions.service';\nimport { Event } from 'src/app/interfaces/event';\nimport { DatePipe } from '@angular/common';\nimport { ErrorService } from 'src/app/services/error.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport {AlertService} from \"../../../../services/alert.service\";\n\nexport interface Checkbox {\n  name: string;\n  isChecked: boolean;\n}\n\n@Component({\n  selector: 'app-manage-schedule',\n  templateUrl: './manage-schedule.page.html',\n  styleUrls: ['./manage-schedule.page.scss'],\n  providers: [ DatePipe ],\n  animations: [\n    trigger('openClose', [\n      state('open', style({\n        opacity: 1,\n      })),\n      state('closed', style({\n        opacity: 0,\n        height: '0px',\n      })),\n      transition('* => closed', [\n        animate('0.3s')\n      ]),\n      transition('* => open', [\n        animate('0.3s')\n      ]),\n    ]),\n  ],\n})\nexport class ManageSchedulePage implements OnInit {\n  isDesktop: boolean;\n  showAddEvent = false;\n  events: Event[] = [];\n  addEventForm: FormGroup;\n  addEventPermissions: Checkbox[] = [];\n  updateEventForm: FormGroup;\n  updateEventPermissions: Checkbox[] = [];\n  isProcessed = false;\n\n  constructor(private formBuilder: FormBuilder,\n              private eventService: EventService,\n              private rolesAndPermissionsService: RolesAndPermissionsService,\n              private screenSizeService: ScreenSizeService,\n              private datePipe: DatePipe,\n              private errorService: ErrorService,\n              private translate: TranslateService,\n              private alertService: AlertService) {\n      this.screenSizeService.isDesktopView().subscribe(isDesktop => {\n        if (this.isDesktop && !isDesktop) {\n        window.location.reload();\n      }\n      this.isDesktop = isDesktop;\n    });\n  }\n\n  get addEventErrorControl() {\n    return this.addEventForm.controls;\n  }\n  get updateEventErrorControl() {\n    return this.updateEventForm.controls;\n  }\n\n  ngOnInit() {\n    this.addEventForm = this.formBuilder.group({\n      title: ['', Validators.required],\n      description: ['', Validators.required],\n      from: ['', Validators.required],\n      until: ['', Validators.required],\n    });\n    this.updateEventForm = this.formBuilder.group({\n      id: [],\n      title: ['', Validators.required],\n      description: ['', Validators.required],\n      from: ['', Validators.required],\n      until: ['', Validators.required],\n    });\n  }\n\n  ionViewWillEnter() {\n    this.isProcessed = false;\n    this.getPermissions();\n    this.getEvents();\n  }\n\n  getEvents() {\n    this.eventService.getEvents().subscribe({\n      error: error => {\n        this.errorService.errorOccurred.emit(error);\n      },\n      next: response => {\n        const resp: any = response;\n        this.events = resp.events;\n        resp.events.forEach(event => {\n          event.permissions_names = event.permissions.map(permission => permission.name);\n        });\n        this.events = resp.events;\n      },\n    });\n  }\n\n  getPermissions() {\n    this.rolesAndPermissionsService.getPermissions().subscribe({\n      error: error => {\n        this.errorService.errorOccurred.emit(error);\n      },\n      next: response => {\n        const resp: any = response;\n        resp.permissions.forEach(permission => {\n          this.addEventPermissions.push({ name: permission.name, isChecked: false });\n          this.updateEventPermissions.push({ name: permission.name, isChecked: false });\n        });\n      },\n    });\n  }\n\n  addEvent(form) {\n    if (!this.isProcessed && this.addEventForm.valid) {\n      this.isProcessed = true;\n      this.addEventForm.patchValue({\n        from: this.datePipe.transform(this.addEventForm.value.from, 'yyyy-MM-dd'),\n        until: this.datePipe.transform(this.addEventForm.value.until, 'yyyy-MM-dd'),\n      });\n      this.eventService.createEvent(this.addEventForm.value).subscribe({\n        error: error => {\n          if (error.error.message == 'The given data was invalid.') {\n            for (const errorType in error.error.errors) {\n              const errors: any = [];\n              for (const errorMessage in error.error.errors[errorType]) {\n                errors.push({[error.error.errors[errorType][errorMessage]]: true});\n              }\n              this.addEventForm.controls[errorType].setErrors(errors);\n            }\n          } else if (error.error.message == 'missingPermissions') {\n            this.alertService.alert(\"danger\", this.translate.instant('GENERAL.ERRORS.missingPermissions'), '', 'lock-closed');\n          } else {\n            this.errorService.errorOccurred.emit(error);\n          }\n          this.isProcessed = false;\n        },\n        next: response => {\n          const resp: any = response;\n          this.addEventForm.reset();\n          this.isProcessed = false;\n          const addEventPermissionsNames = this.addEventPermissions.filter(permission => permission.isChecked).map(permissions => permissions.name);\n          this.eventService.syncPermissions(resp.event.id, {permissions: addEventPermissionsNames}).subscribe({\n            error: error => {\n              if (error.error.message == 'missingPermissions') {\n                this.alertService.alert(\"danger\", this.translate.instant('GENERAL.ERRORS.missingPermissions'), '', 'lock-closed');\n              } else {\n                this.errorService.errorOccurred.emit(error);\n              }\n            },\n            complete: () => {\n              this.getEvents();\n              this.showAddEvent = false;\n            }\n          });\n          this.alertService.alert(\"success\", this.translate.instant('ACTIONS.MANAGE_SCHEDULE.title'), resp.message, \"checkmark\")\n        form.reset()\n        },\n      });\n    }\n  }\n\n  editEvent(event) {\n    this.updateEventForm.patchValue(event);\n    this.updateEventPermissions.forEach(permission => {\n      permission.isChecked = !!event.permissions_names.includes(permission.name);\n    });\n  }\n\n  updateEvent() {\n    if (!this.isProcessed && this.updateEventForm.valid) {\n      this.isProcessed = true;\n      this.updateEventForm.patchValue({\n        from: this.datePipe.transform(this.updateEventForm.value.from, 'yyyy-MM-dd'),\n        until: this.datePipe.transform(this.updateEventForm.value.until, 'yyyy-MM-dd'),\n      });\n      const updateEventPermissionsNames = this.updateEventPermissions.filter(permission => permission.isChecked).map(permissions => permissions.name);\n      this.eventService.syncPermissions(this.updateEventForm.value.id, {permissions: updateEventPermissionsNames}).subscribe({\n        error: error => {\n          this.errorService.errorOccurred.emit(error);\n        }\n      });\n      this.eventService.updateEvent(this.updateEventForm.value).subscribe({\n        error: error => {\n          if (error.error.message == 'The given data was invalid.') {\n            for (const errorType in error.error.errors) {\n              const errors: any = [];\n              for (const errorMessage in error.error.errors[errorType]) {\n                errors.push({[error.error.errors[errorType][errorMessage]]: true});\n              }\n              this.updateEventForm.controls[errorType].setErrors(errors);\n            }\n          } else if (error.error.message == 'missingPermissions') {\n            this.alertService.alert(\"danger\", this.translate.instant('GENERAL.ERRORS.missingPermissions'), '', 'lock-closed');\n          } else {\n            this.errorService.errorOccurred.emit(error);\n          }\n          this.isProcessed = false;\n        },\n        next: response => {\n          const resp: any = response;\n          this.alertService.alert(\"success\", this.translate.instant('ACTIONS.MANAGE_SCHEDULE.title'), resp.message, \"checkmark\")\n        },\n        complete: () => {\n          this.updateEventForm.reset();\n          this.isProcessed = false;\n          this.getEvents();\n        },\n      });\n    }\n  }\n\n  deleteEvent(eventId) {\n    this.eventService.deleteEvent(eventId).subscribe({\n      error: error => {\n        this.errorService.errorOccurred.emit(error);\n      },\n      next: response => {\n        const resp: any = response;\n        this.alertService.alert(\"success\", this.translate.instant('ACTIONS.MANAGE_SCHEDULE.title'), resp.message, \"checkmark\")\n      },\n      complete: () => {\n        this.getEvents();\n      }\n    });\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}