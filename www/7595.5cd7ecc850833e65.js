"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7595],{7595:(U,p,i)=>{i.r(p),i.d(p,{GiveFeedbackPageModule:()=>N});var u=i(6019),s=i(9133),m=i(4522),r=i(6990),l=i(6431),d=i(6952),e=i(3245),v=i(8834),Z=i(5729),f=i(2677),A=i(6733),E=i(1516),F=i(1750);function h(t,a){1&t&&(e._UZ(0,"app-card-title-bar",2),e.ALo(1,"translate")),2&t&&e.s9C("title",e.lcZ(1,1,"ACTIONS.GIVE_FEEDBACK.title"))}function T(t,a){if(1&t&&(e.TgZ(0,"ion-button",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const o=e.oxw(2);e.Q6J("disabled",o.giveFeedbackForm.invalid||o.isProcessed),e.xp6(1),e.Oqu(e.lcZ(2,2,"ACTIONS.GIVE_FEEDBACK.INPUT.submitButton"))}}function b(t,a){if(1&t&&(e.TgZ(0,"ion-button",20),e._UZ(1,"ion-spinner",21),e.qZA()),2&t){const o=e.oxw(2);e.Q6J("disabled",o.giveFeedbackForm.invalid||o.isProcessed)}}function P(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"ion-card",3),e.TgZ(1,"ion-card-content"),e.TgZ(2,"ion-grid",4),e.TgZ(3,"ion-row"),e.TgZ(4,"ion-col"),e.TgZ(5,"form",5),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().giveFeedback()}),e.TgZ(6,"ion-item",3),e.TgZ(7,"ion-label"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"ion-select",6),e.ALo(11,"translate"),e.ALo(12,"translate"),e.TgZ(13,"ion-select-option",7),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"ion-select-option",8),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"ion-select-option",9),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"ion-select-option",10),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"ion-select-option",11),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"ion-select-option",12),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"ion-item",3),e._UZ(32,"ion-input",13),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"app-form-error",14),e.TgZ(35,"ion-item",15),e._UZ(36,"ion-textarea",16),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"app-form-error",14),e._UZ(39,"ion-checkbox",17),e.TgZ(40,"div",18),e.YNc(41,T,3,4,"ion-button",19),e.YNc(42,b,2,1,"ion-button",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.oxw();e.xp6(5),e.Q6J("formGroup",o.giveFeedbackForm),e.xp6(3),e.Oqu(e.lcZ(9,16,"ACTIONS.GIVE_FEEDBACK.INPUT.type")),e.xp6(2),e.s9C("okText",e.lcZ(11,18,"GENERAL.POPUPS.ok")),e.s9C("cancelText",e.lcZ(12,20,"GENERAL.POPUPS.cancel")),e.xp6(4),e.Oqu(e.lcZ(15,22,"GENERAL.FEEDBACK_TYPES.general")),e.xp6(3),e.Oqu(e.lcZ(18,24,"GENERAL.FEEDBACK_TYPES.feature")),e.xp6(3),e.Oqu(e.lcZ(21,26,"GENERAL.FEEDBACK_TYPES.translation")),e.xp6(3),e.Oqu(e.lcZ(24,28,"GENERAL.FEEDBACK_TYPES.typo")),e.xp6(3),e.Oqu(e.lcZ(27,30,"GENERAL.FEEDBACK_TYPES.bug")),e.xp6(3),e.Oqu(e.lcZ(30,32,"GENERAL.FEEDBACK_TYPES.other")),e.xp6(3),e.s9C("placeholder",e.lcZ(33,34,"ACTIONS.GIVE_FEEDBACK.INPUT.shortDescription")),e.xp6(2),e.Q6J("errors",o.errorControl.short_description.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(37,36,"ACTIONS.GIVE_FEEDBACK.INPUT.fullDescription")),e.xp6(2),e.Q6J("errors",o.errorControl.full_description.errors),e.xp6(3),e.Q6J("ngIf",!o.isProcessed),e.xp6(1),e.Q6J("ngIf",o.isProcessed)}}const x=[{path:"",component:(()=>{class t{constructor(o,n,c,g,I,S){this.feedbackService=o,this.formBuilder=n,this.errorService=c,this.alertService=g,this.translate=I,this.router=S,this.success=!1,this.isProcessed=!1}ngOnInit(){this.giveFeedbackForm=this.formBuilder.group({type:["general",s.kI.required],short_description:["",s.kI.required],full_description:["",s.kI.required],fax:[!1]})}ionViewWillEnter(){this.isProcessed=!1}get errorControl(){return this.giveFeedbackForm.controls}giveFeedback(){!this.isProcessed&&!this.giveFeedbackForm.value.fax&&this.giveFeedbackForm.valid&&(this.isProcessed=!0,this.feedbackService.giveFeedback(this.giveFeedbackForm.value).subscribe({error:o=>{if("The given data was invalid."==o.error.message)for(const n in o.error.errors){let c=[];for(const g in o.error.errors[n])c.push({[o.error.errors[n][g]]:!0});this.giveFeedbackForm.controls[n].setErrors(c)}else"missingPermissions"==o.error.message?this.alertService.alert("danger",this.translate.instant("GENERAL.ERRORS.missingPermissions"),"","lock-closed"):this.errorService.errorOccurred.emit(o);this.isProcessed=!1},next:o=>{const n=o;this.alertService.alert("success",this.translate.instant("ACTIONS.GIVE_FEEDBACK.SUCCESS.thankYou"),n.message,"heart")},complete:()=>{this.success=!0,this.giveFeedbackForm.reset(),this.isProcessed=!1,this.router.navigate(["/dashboard"])}}))}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(v.T),e.Y36(s.qu),e.Y36(Z.T),e.Y36(f.c),e.Y36(l.sK),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-give-feedback"]],decls:7,vars:2,consts:[[3,"title",4,"ngIf"],["color","light",4,"ngIf"],[3,"title"],["color","light"],[1,"inside-card-grid"],[3,"formGroup","ngSubmit"],["formControlName","type",3,"okText","cancelText"],["value","general"],["value","feature"],["value","translation"],["value","typo"],["value","bug"],["value","other"],["formControlName","short_description","type","text",3,"placeholder"],[3,"errors"],["lines","none","color","light"],["formControlName","full_description","type","text","rows","5",3,"placeholder"],["formControlName","fax",1,"invisible"],[1,"ion-padding"],["type","submit","class","ion-no-margin","expand","block","color","primary",3,"disabled",4,"ngIf"],["type","submit","expand","block","color","primary",1,"ion-no-margin",3,"disabled"],["name","crescent"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-content"),e._UZ(1,"app-toolbar"),e.TgZ(2,"ion-grid"),e.TgZ(3,"ion-row"),e.TgZ(4,"ion-col"),e.YNc(5,h,2,3,"app-card-title-bar",0),e.YNc(6,P,43,38,"ion-card",1),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(5),e.Q6J("ngIf",!n.success),e.xp6(1),e.Q6J("ngIf",!n.success))},directives:[r.W2,A.n,r.jY,r.Nd,r.wI,u.O5,E.$,r.PM,r.FN,s._Y,s.JL,s.sg,r.Ie,r.Q$,r.t9,r.QI,s.JJ,s.u,r.n0,r.pK,r.j9,F.A,r.g2,r.nz,r.w,r.YG,r.PQ],pipes:[l.X$],styles:["form[_ngcontent-%COMP%]{padding-top:10px}"]}),t})()}];let C=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.Bz.forChild(x)],d.Bz]}),t})();var G=i(6453),k=i(6060);let N=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.ez,s.u5,r.Pc,C,G.K,s.UX,l.aw.forChild({loader:{provide:l.Zw,useFactory:k.p,deps:[m.eN]}})]]}),t})()}}]);