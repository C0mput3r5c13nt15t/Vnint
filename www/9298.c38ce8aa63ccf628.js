"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9298],{9298:(Q,f,c)=>{c.r(f),c.d(f,{ViewProjectPageModule:()=>M});var l=c(6019),_=c(9133),u=c(4522),a=c(6990),g=c(6431),p=c(6952),e=c(3245),h=c(1856),m=c(3271),Z=c(6898),P=c(5729),A=c(2677),b=c(6733),j=c(1516);function T(r,i){if(1&r&&e._UZ(0,"app-card-title-bar",2),2&r){const o=e.oxw();e.Q6J("title",o.project.title)}}function x(r,i){1&r&&(e._UZ(0,"app-card-title-bar",2),e.ALo(1,"translate")),2&r&&e.s9C("title",e.lcZ(1,1,"ACTIONS.VIEW_PROJECT.title"))}function v(r,i){if(1&r&&e._UZ(0,"img",13),2&r){const o=e.oxw(2);e.MGl("src","/images/",o.project.image,"",e.LSH)}}function y(r,i){if(1&r&&(e.TgZ(0,"ion-label",15),e.TgZ(1,"b"),e._uU(2),e.qZA(),e.qZA()),2&r){const o=e.oxw().$implicit;e.xp6(2),e.Oqu(o.value)}}function E(r,i){if(1&r&&(e.ynx(0),e.YNc(1,y,3,1,"ion-label",14),e.BQk()),2&r){const o=i.$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.project.topic==o.key)}}function O(r,i){if(1&r&&(e.TgZ(0,"div"),e.TgZ(1,"ion-label",8),e.TgZ(2,"b"),e._uU(3),e.ALo(4,"date"),e.ALo(5,"translate"),e.ALo(6,"translate"),e.ALo(7,"translate"),e.qZA(),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"ion-label"),e._uU(10),e.ALo(11,"date"),e.ALo(12,"translate"),e.ALo(13,"translate"),e.ALo(14,"translate"),e.ALo(15,"date"),e.ALo(16,"translate"),e.ALo(17,"translate"),e.ALo(18,"translate"),e.qZA(),e.qZA()),2&r){const o=i.$implicit;e.xp6(3),e.Oqu(e.gM2(4,3,o.from,e.lcZ(5,8,"GENERAL.timeDisplayFormat"),e.lcZ(6,10,"GENERAL.timezone"),e.lcZ(7,12,"GENERAL.locale"))),e.xp6(7),e.AsE("von ",e.gM2(11,14,o.from,e.lcZ(12,19,"GENERAL.hoursAndMinutesTimeDisplayFormat"),e.lcZ(13,21,"GENERAL.timezone"),e.lcZ(14,23,"GENERAL.locale"))," bis ",e.gM2(15,25,o.until,e.lcZ(16,30,"GENERAL.hoursAndMinutesTimeDisplayFormat"),e.lcZ(17,32,"GENERAL.timezone"),e.lcZ(18,34,"GENERAL.locale")),"")}}function I(r,i){if(1&r&&(e.ynx(0),e.YNc(1,O,19,36,"div",6),e.BQk()),2&r){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.project.timeframes)}}function w(r,i){if(1&r){const o=e.EpF();e.TgZ(0,"ion-chip",16),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).addProjectToPreferences()}),e._UZ(1,"ion-icon",17),e.TgZ(2,"ion-label"),e._uU(3,"project not authorized"),e.qZA(),e.qZA()}}function N(r,i){if(1&r){const o=e.EpF();e.TgZ(0,"ion-chip",18),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).addProjectToPreferences()}),e._UZ(1,"ion-icon",19),e.TgZ(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()}2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"ACTIONS.VIEW_PROJECT.addToPreferences")))}function C(r,i){if(1&r){const o=e.EpF();e.TgZ(0,"ion-chip",20),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(2);return n.removeProjectFromPreferences(n.project.id)}),e._UZ(1,"ion-icon",21),e.TgZ(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()}2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"ACTIONS.VIEW_PROJECT.removeFromPreferences")))}function V(r,i){if(1&r){const o=e.EpF();e.TgZ(0,"ion-chip",22),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).toggleAuthorized()}),e._UZ(1,"ion-icon",23),e.TgZ(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()}2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"ACTIONS.VIEW_PROJECT.authorize")))}function U(r,i){if(1&r){const o=e.EpF();e.TgZ(0,"ion-chip",20),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).toggleAuthorized()}),e._UZ(1,"ion-icon",24),e.TgZ(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()}2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"ACTIONS.VIEW_PROJECT.deauthorize")))}function q(r,i){if(1&r){const o=e.EpF();e.TgZ(0,"ion-chip",20),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).deleteProject()}),e._UZ(1,"ion-icon",25),e.TgZ(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()}2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"ACTIONS.VIEW_PROJECT.delete")))}function S(r,i){if(1&r&&(e.TgZ(0,"ion-card",3),e.YNc(1,v,1,1,"img",4),e.TgZ(2,"ion-card-content"),e.TgZ(3,"ion-grid",5),e.TgZ(4,"ion-row"),e.TgZ(5,"ion-col"),e.TgZ(6,"ion-card-title"),e._uU(7),e.qZA(),e.TgZ(8,"ion-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,E,2,1,"ng-container",6),e.ALo(12,"keyvalue"),e.ALo(13,"translate"),e._UZ(14,"br"),e._UZ(15,"br"),e.TgZ(16,"ion-label"),e._uU(17),e.qZA(),e._UZ(18,"br"),e._UZ(19,"br"),e.YNc(20,I,2,1,"ng-container",7),e._UZ(21,"br"),e.TgZ(22,"ion-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"ion-label",8),e.TgZ(26,"b"),e._uU(27),e.qZA(),e.qZA(),e._UZ(28,"br"),e.TgZ(29,"ion-label"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"ion-label"),e.TgZ(33,"b"),e._uU(34),e.qZA(),e.qZA(),e._UZ(35,"br"),e._UZ(36,"br"),e.TgZ(37,"ion-label"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"ion-label"),e.TgZ(41,"b"),e._uU(42),e.qZA(),e.qZA(),e.TgZ(43,"b"),e._uU(44,"-"),e.qZA(),e.TgZ(45,"ion-label"),e.TgZ(46,"b"),e._uU(47),e.qZA(),e.qZA(),e._UZ(48,"br"),e.TgZ(49,"ion-label"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"ion-label"),e.TgZ(53,"b"),e._uU(54),e.qZA(),e.qZA(),e.TgZ(55,"b"),e._uU(56,"-"),e.qZA(),e.TgZ(57,"ion-label"),e.TgZ(58,"b"),e._uU(59),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(60,"br"),e._UZ(61,"hr"),e.TgZ(62,"ion-row"),e.YNc(63,w,4,0,"ion-chip",9),e.YNc(64,N,5,3,"ion-chip",10),e.YNc(65,C,5,3,"ion-chip",11),e.YNc(66,V,5,3,"ion-chip",12),e.YNc(67,U,5,3,"ion-chip",11),e.YNc(68,q,5,3,"ion-chip",11),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.project.image),e.xp6(6),e.Oqu(o.project.title),e.xp6(2),e.hij("",e.lcZ(10,22,"ACTIONS.VIEW_PROJECT.topic")," "),e.xp6(2),e.Q6J("ngForOf",e.lcZ(12,24,e.lcZ(13,26,"GENERAL.PROJECT_TOPICS"))),e.xp6(6),e.hij(" ",o.project.description," "),e.xp6(3),e.Q6J("ngIf",o.project.timeframes.length>0),e.xp6(3),e.hij("",e.lcZ(24,28,"ACTIONS.VIEW_PROJECT.leader")," "),e.xp6(4),e.Oqu(o.project.leader.email),e.xp6(3),e.hij("",e.lcZ(31,30,"ACTIONS.VIEW_PROJECT.cost")," "),e.xp6(4),e.hij("",o.project.cost," \u20ac"),e.xp6(4),e.hij("",e.lcZ(39,32,"ACTIONS.VIEW_PROJECT.grade")," "),e.xp6(4),e.Oqu(o.project.min_grade),e.xp6(5),e.Oqu(o.project.max_grade),e.xp6(3),e.hij("",e.lcZ(51,34,"ACTIONS.VIEW_PROJECT.capacity")," "),e.xp6(4),e.Oqu(o.project.min_participants),e.xp6(5),e.Oqu(o.project.max_participants),e.xp6(4),e.Q6J("ngIf",o.permissions.includes("preferences.store")&&o.project.id!=o.user.project_id&&!o.preference_ids.includes(o.project.id)&&!o.project.authorized),e.xp6(1),e.Q6J("ngIf",o.permissions.includes("preferences.store")&&o.project.id!=o.user.project_id&&!o.preference_ids.includes(o.project.id)&&o.project.authorized),e.xp6(1),e.Q6J("ngIf",o.permissions.includes("preferences.store")&&o.project.id!=o.user.project_id&&o.preference_ids.includes(o.project.id)),e.xp6(1),e.Q6J("ngIf",o.permissions.includes("projects.toggleAuthorized")&&!o.project.authorized),e.xp6(1),e.Q6J("ngIf",o.permissions.includes("projects.toggleAuthorized")&&o.project.authorized),e.xp6(1),e.Q6J("ngIf",o.permissions.includes("projects.destroy"))}}const J=[{path:"",component:(()=>{class r{constructor(o,t,n,s,d,k,Y,z){this.activatedRoute=o,this.router=t,this.projectService=n,this.preferencesService=s,this.auth=d,this.errorService=k,this.translate=Y,this.alertService=z,this.permissions=[],this.preference_ids=[]}ngOnInit(){}ionViewWillEnter(){this.activatedRoute.paramMap.subscribe(o=>{o.has("projectId")?this.getProject(Number(this.activatedRoute.snapshot.paramMap.get("projectId"))):this.router.navigate(["/view projects"])}),this.auth.authenticated().subscribe({error:()=>{this.auth.setLoggedIn=!1,this.auth.setSessionExpired=!0,this.router.navigate(["/login"])},next:o=>{const t=o;0==t.authenticated?(this.auth.setLoggedIn=!1,this.auth.setSessionExpired=!0,this.router.navigate(["/login"])):(this.user=t.user,this.auth.permissions().subscribe({error:n=>{this.errorService.errorOccurred.emit(n)},next:n=>{const s=n;this.permissions=[],this.permissions=s.permissions,this.permissions.includes("preferences.show_associated")&&this.getPreferences()}}))}})}getProject(o){this.projectService.getProject(o).subscribe({error:t=>{this.errorService.errorOccurred.emit(t)},next:t=>{this.project=t.project}})}getPreferences(){this.preferencesService.getAssociatedPreferences().subscribe({error:o=>{this.errorService.errorOccurred.emit(o)},next:o=>{const t=o;this.preferences=t.preferences,this.preference_ids=[],t.preferences.forEach(n=>{this.preference_ids.push(n.project_id)})}})}addProjectToPreferences(){this.preferencesService.createPreference(this.project.id).subscribe({error:o=>{this.errorService.errorOccurred.emit(o)},next:o=>{const t=o;this.alertService.alert("success",this.translate.instant("ACTIONS.VIEW_PROJECT.title"),t.message,"checkmark")},complete:()=>{this.getPreferences()}})}removeProjectFromPreferences(o){let t;t=this.preferences.filter(function(s){return s.project_id==o})[0].id,this.preferencesService.deletePreference(t).subscribe({error:s=>{this.errorService.errorOccurred.emit(s)},next:s=>{const d=s;this.alertService.alert("success",this.translate.instant("ACTIONS.VIEW_PROJECT.title"),d.message,"checkmark")},complete:()=>{this.getPreferences()}})}toggleAuthorized(){this.projectService.toggleAuthorizedOfProject(this.project.id).subscribe({error:o=>{this.errorService.errorOccurred.emit(o)},next:o=>{const t=o;this.alertService.alert("success",this.translate.instant("ACTIONS.VIEW_PROJECT.title"),t.message,"checkmark")},complete:()=>{this.getProject(this.project.id)}})}deleteProject(){this.projectService.deleteProject(this.project.id).subscribe({error:o=>{this.errorService.errorOccurred.emit(o)},next:o=>{const t=o;this.alertService.alert("success",this.translate.instant("ACTIONS.VIEW_PROJECT.title"),t.message,"checkmark"),this.router.navigate(["/view-projects"])}})}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(p.gz),e.Y36(p.F0),e.Y36(h.Y),e.Y36(m.y),e.Y36(Z.e),e.Y36(P.T),e.Y36(g.sK),e.Y36(A.c))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-project"]],decls:8,vars:3,consts:[[3,"title",4,"ngIf"],["color","light",4,"ngIf"],[3,"title"],["color","light"],["class","project-thumbnail","alt","Just imagine a very cool image ...",3,"src",4,"ngIf"],[1,"inside-card-grid"],[4,"ngFor","ngForOf"],[4,"ngIf"],["color","primary"],["disabled","true",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["color","danger",3,"click",4,"ngIf"],["color","success",3,"click",4,"ngIf"],["alt","Just imagine a very cool image ...",1,"project-thumbnail",3,"src"],["class","subtitle-labels","color","primary",4,"ngIf"],["color","primary",1,"subtitle-labels"],["disabled","true",3,"click"],["name","star"],[3,"click"],["name","star","color","warning"],["color","danger",3,"click"],["name","close"],["color","success",3,"click"],["name","checkmark-circle"],["name","close-circle"],["name","trash"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-content"),e._UZ(1,"app-toolbar"),e.TgZ(2,"ion-grid"),e.TgZ(3,"ion-row"),e.TgZ(4,"ion-col"),e.YNc(5,T,1,1,"app-card-title-bar",0),e.YNc(6,x,2,3,"app-card-title-bar",0),e.YNc(7,S,69,36,"ion-card",1),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(5),e.Q6J("ngIf",t.project),e.xp6(1),e.Q6J("ngIf",!t.project),e.xp6(1),e.Q6J("ngIf",t.project))},directives:[a.W2,b.n,a.jY,a.Nd,a.wI,l.O5,j.$,a.PM,a.FN,a.Dq,a.Q$,l.sg,a.hM,a.gu],pipes:[g.X$,l.Nd,l.uU],styles:['@font-face{font-family:"Montserrat",sans-serif}[_ngcontent-%COMP%]:root{--ion-font-family: "Montserrat", sans-serif}[_ngcontent-%COMP%]:root{--ion-color-primary: #6411D9;--ion-color-primary-rgb: 100,17,217;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #580fbf;--ion-color-primary-tint: #7429dd;--ion-color-secondary: #622BD9;--ion-color-secondary-rgb: 98,43,217;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255,255,255;--ion-color-secondary-shade: #5626bf;--ion-color-secondary-tint: #7240dd;--ion-color-tertiary: #752BDF;--ion-color-tertiary-rgb: 117,43,223;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #6726c4;--ion-color-tertiary-tint: #8340e2;--ion-color-success: #1adc6c;--ion-color-success-rgb: 26,220,108;--ion-color-success-contrast: #fff;--ion-color-success-contrast-rgb: 255,255,255;--ion-color-success-shade: #17c25f;--ion-color-success-tint: #31e07b;--ion-color-warning: #f2e231;--ion-color-warning-rgb: 242,226,49;--ion-color-warning-contrast: #fff;--ion-color-warning-contrast-rgb: 255,255,255;--ion-color-warning-shade: #d5c72b;--ion-color-warning-tint: #f3e546;--ion-color-danger: #fc194d;--ion-color-danger-rgb: 252,25,77;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255,255,255;--ion-color-danger-shade: #de1644;--ion-color-danger-tint: #fc305f;--ion-color-medium: #fcfaff;--ion-color-medium-rgb: 252,250,255;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #dedce0;--ion-color-medium-tint: #fcfbff;--ion-color-light: #FFFFFF;--ion-color-light-rgb: 255,255,255;--ion-color-light-contrast: #1a1a1a;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #e0e0e0;--ion-color-light-tint: #ffffff;--ion-text-color: #1c1c1c;--ion-item-background: var(--ion-color-light)}body.dark[_ngcontent-%COMP%]{--ion-color-primary: #7924f0;--ion-color-primary-rgb: 121,36,240;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #6a20d3;--ion-color-primary-tint: #863af2;--ion-color-secondary: #622BD9;--ion-color-secondary-rgb: 98,43,217;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255,255,255;--ion-color-secondary-shade: #5626bf;--ion-color-secondary-tint: #7240dd;--ion-color-tertiary: #752BDF;--ion-color-tertiary-rgb: 117,43,223;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #6726c4;--ion-color-tertiary-tint: #8340e2;--ion-color-success: #1adc6c;--ion-color-success-rgb: 26,220,108;--ion-color-success-contrast: #fff;--ion-color-success-contrast-rgb: 255,255,255;--ion-color-success-shade: #17c25f;--ion-color-success-tint: #31e07b;--ion-color-warning: #f2e231;--ion-color-warning-rgb: 242,226,49;--ion-color-warning-contrast: #fff;--ion-color-warning-contrast-rgb: 255,255,255;--ion-color-warning-shade: #d5c72b;--ion-color-warning-tint: #f3e546;--ion-color-danger: #fc194d;--ion-color-danger-rgb: 252,25,77;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255,255,255;--ion-color-danger-shade: #de1644;--ion-color-danger-tint: #fc305f;--ion-color-medium: #121212;--ion-color-medium-rgb: 18,18,18;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255,255,255;--ion-color-medium-shade: #101010;--ion-color-medium-tint: #2a2a2a;--ion-color-light: #1d1d1d;--ion-color-light-rgb: 29,29,29;--ion-color-light-contrast: #ffffff;--ion-color-light-contrast-rgb: 255,255,255;--ion-color-light-shade: #1a1a1a;--ion-color-light-tint: #343434;--ion-text-color: #fff;--ion-item-background: var(--ion-color-light)}hr[_ngcontent-%COMP%]{background-color:var(--ion-color-step-550, #737373)}']}),r})()}];let L=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.Bz.forChild(J)],p.Bz]}),r})();var R=c(6453),F=c(6060);let M=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[l.ez,_.u5,a.Pc,L,R.K,g.aw.forChild({loader:{provide:g.Zw,useFactory:F.p,deps:[u.eN]}})]]}),r})()}}]);